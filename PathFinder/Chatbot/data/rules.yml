version: "3.1"

rules:
  - rule: Say `hello` whenever the user sends a message with intent `greet`
    steps:
      - intent: greet
      - action: utter_greet

  - rule: Say goodbye anytime the user says goodbye
    steps:
      - intent: goodbye
      - action: utter_goodbye

  - rule: Say 'I am a bot' anytime the user challenges
    steps:
      - intent: bot_challenge
      - action: utter_iamabot

  - rule: Ask the user to rephrase whenever they send a message with low NLU confidence
    steps:
      - intent: nlu_fallback
      - action: utter_please_rephrase

  - rule: respond to FAQs
    steps:
    - intent: faq
    - action: utter_faq
  
  - rule: activate form
    steps:
    - intent: recommend_college
    - action: recommend_college_form
    - active_loop: recommend_college_form

  -rule: submit form
    conditions:
    - active_loop: recommend_college_form
    steps:
    - action: recommend_college_form
    - active_loop: null
    - slot_was_set:
        requested_slot: null
    - action: give_college_recommendation



  # - rule: Tell the user information about Computer Science in general
  #   steps:
  #     - intent: ask_cs
  #     - action: utter_info_cs

  # - rule: Tell the user information about the Computer Science departments
  #   steps:
  #     - intent: ask_departments
  #     - action: utter_info_departments

  # - rule: Tell the user information about available Computer Science colleges in Egypt
  #   steps:
  #     - intent: ask_colleges
  #     - action: utter_info_colleges

  # - rule: Answer when the student asks about the best department
  #   steps:
  #     - intent: best_department
  #     - action: utter_best_department